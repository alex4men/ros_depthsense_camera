<launch>
  <arg name="camera" default="camera" />
  <arg name="pointcloud" default="points"/>
  <arg name="rgb" default="rgb/image_rect_color"/>
  <arg name="depth" default="depth_registered/image_raw"/>
  <node pkg="ros_depthsense_camera" type="depthsense_camera_node" name="depthsense_camera" ns="$(arg camera)" output="screen">
    <remap from="vertex_data" to="$(arg pointcloud)"/>
    <remap from="rgb/image" to="$(arg rgb)"/>
    <remap from="depth/image" to="$(arg depth)"/>
  </node>

  
  <arg name="manager" default="camera_nodelet_manager" />

  <!-- for testing manager.launch.xml -->
  <include file="$(find rgbd_launch)/launch/includes/manager.launch.xml">
    <arg name="name" value="$(arg manager)" />
    <arg name="num_worker_threads"  value="4" />
  </include>

  <!-- for testing processing.launch.xml -->
  <!-- this also includes all other launch.xml files in launch/includes -->
  <include file="$(find rgbd_launch)/launch/includes/processing.launch.xml" ns="$(arg camera)">
    <arg name="manager" value="$(arg manager)" />
    <arg name="rgb_processing"                  value="false"/>
    <arg name="ir_processing"                   value="false"/>
    <arg name="depth_processing"                value="true"/>
    <arg name="depth_registered_processing"     value="true"/>
    <arg name="disparity_processing"            value="false"/>
    <arg name="disparity_registered_processing" value="false"/>
    <arg name="hw_registered_processing"        value="true" />
    <arg name="sw_registered_processing"        value="true" />

  </include>
</launch>